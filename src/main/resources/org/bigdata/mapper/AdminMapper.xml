<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    <mapper namespace="org.bigdata.mapper.AdminMapper">
    
    <!-- 상의 등록  -->
    <insert id="productCoat" >
    	insert into shopping_coat(coatId,coatName,coatPrice,coatStock,coatDiscount,coatContents)
    				values(seq_coat.nextval,#{coatId},#{coatName},#{coatPrice},#{coatStock},#{coatDiscount},#{coatContents})
    </insert>
 
    <!--페이징 처리 적용 상의 리스트 -->
    <select id="productCoatGetList"
			resultType="org.bigdata.domain.CoatVO">
		<![CDATA[
			select coatId,coatName,coatPrice,coatStock,coatDiscount,coatContents,regdate,updatedate
			  from (select /*+ INDEX_DESC(shopping_coat pk_coat) */
			               rownum rn,coatId,coatName,coatPrice,coatStock,coatDiscount,coatContents,regdate,updatedate
			     from shopping_coat
			     where 
			
		]]> 
		 		<if test="keyword != null">
	      			 coatName like '%' || #{keyword} || '%' and
	      		</if>
	      
	    <![CDATA[	
	   			 rownum <= #{pageNum} * #{amount}
			     )
			 where rn > (#{pageNum} -1) * #{amount}
	               
		]]>
	</select>
  
  
  
	<!-- 상의 총 개수 -->
	<select id="productCoatGetTotal" resultType="int">
		select count(*) 
	      from shopping_coat
	      
	      <if test="keyword != null">
	      	where coatName like '%' || #{keyword} || '%'
	      </if>
	</select>
	   
    
    
    
    
    <insert id="productPants">
    	insert into shopping_pants(pantsId,pantsName,pantsPrice,pantsStock,pantsDiscount,pantsContents)
    				values(seq_pants.nextval,#{pantsId},#{pantsName},#{pantsPrice},#{pantsStock},#{pantsDiscount},#{pantsContents})
    </insert>
    
    <insert id="productShoes">
    	insert into shopping_shoes(shoesId,shoesName,shoesPrice,shoesStock,shoesDiscount,shoesContents)
    				values(seq_shoes.nextval,#{shoesId},#{shoesName},#{shoesPrice},#{shoesStock},#{shoesDiscount},#{shoesContents})
    </insert>
    						  
    
    </mapper>